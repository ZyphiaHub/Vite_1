var xe=Object.defineProperty;var et=(t,e,l)=>e in t?xe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var _e=(t,e,l)=>et(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(s){if(s.ep)return;s.ep=!0;const u=l(s);fetch(s.href,u)}})();function G(){}function He(t){return t()}function Ie(){return Object.create(null)}function H(t){t.forEach(He)}function Qe(t){return typeof t=="function"}function tt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function lt(t){return Object.keys(t).length===0}function i(t,e){t.appendChild(e)}function j(t,e,l){t.insertBefore(e,l||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function nt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function k(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function $(){return h(" ")}function be(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function it(t){return Array.from(t.childNodes)}function M(t,e){e=""+e,t.data!==e&&(t.data=e)}let ke;function Y(t){ke=t}const R=[],je=[];let U=[];const Fe=[],ot=Promise.resolve();let me=!1;function st(){me||(me=!0,ot.then(Xe))}function pe(t){U.push(t)}const ge=new Set;let D=0;function Xe(){if(D!==0)return;const t=ke;do{try{for(;D<R.length;){const e=R[D];D++,Y(e),ft(e.$$)}}catch(e){throw R.length=0,D=0,e}for(Y(null),R.length=0,D=0;je.length;)je.pop()();for(let e=0;e<U.length;e+=1){const l=U[e];ge.has(l)||(ge.add(l),l())}U.length=0}while(R.length);for(;Fe.length;)Fe.pop()();me=!1,ge.clear(),Y(t)}function ft(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(pe)}}function ut(t){const e=[],l=[];U.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),U=e}const rt=new Set;function Ze(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function J(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ke(t,e){t.d(1),e.delete(t.key)}function We(t,e,l,n,s,u,r,p,g,f,c,y){let _=t.length,m=u.length,v=_;const F={};for(;v--;)F[t[v].key]=v;const S=[],b=new Map,T=new Map,C=[];for(v=m;v--;){const w=y(s,u,v),E=l(w);let O=r.get(E);O?C.push(()=>O.p(w,e)):(O=f(E,w),O.c()),b.set(E,S[v]=O),E in F&&T.set(E,Math.abs(v-F[E]))}const V=new Set,K=new Set;function W(w){Ze(w,1),w.m(p,c),r.set(w.key,w),c=w.first,m--}for(;_&&m;){const w=S[m-1],E=t[_-1],O=w.key,P=E.key;w===E?(c=w.first,_--,m--):b.has(P)?!r.has(O)||V.has(O)?W(w):K.has(P)?_--:T.get(O)>T.get(P)?(K.add(O),W(w)):(V.add(P),_--):(g(E,r),_--)}for(;_--;){const w=t[_];b.has(w.key)||g(w,r)}for(;m;)W(S[m-1]);return H(C),S}function ct(t,e,l){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,l),pe(()=>{const u=t.$$.on_mount.map(He).filter(Qe);t.$$.on_destroy?t.$$.on_destroy.push(...u):H(u),t.$$.on_mount=[]}),s.forEach(pe)}function at(t,e){const l=t.$$;l.fragment!==null&&(ut(l.after_update),H(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function dt(t,e){t.$$.dirty[0]===-1&&(R.push(t),st(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ht(t,e,l,n,s,u,r=null,p=[-1]){const g=ke;Y(t);const f=t.$$={fragment:null,ctx:[],props:u,update:G,not_equal:s,bound:Ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(g?g.$$.context:[])),callbacks:Ie(),dirty:p,skip_bound:!1,root:e.target||g.$$.root};r&&r(f.root);let c=!1;if(f.ctx=l?l(t,e.props||{},(y,_,...m)=>{const v=m.length?m[0]:_;return f.ctx&&s(f.ctx[y],f.ctx[y]=v)&&(!f.skip_bound&&f.bound[y]&&f.bound[y](v),c&&dt(t,y)),_}):[],f.update(),c=!0,H(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const y=it(e.target);f.fragment&&f.fragment.l(y),y.forEach(I)}else f.fragment&&f.fragment.c();e.intro&&Ze(t.$$.fragment),ct(t,e.target,e.anchor),Xe()}Y(g)}class _t{constructor(){_e(this,"$$");_e(this,"$$set")}$destroy(){at(this,1),this.$destroy=G}$on(e,l){if(!Qe(l))return G;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gt);function qe(t,e,l){const n=t.slice();return n[14]=e[l],n[16]=l,n}function De(t,e,l){const n=t.slice();return n[17]=e[l],n}function Je(t,e,l){const n=t.slice();return n[17]=e[l],n}function Re(t,e){let l,n,s,u,r;function p(){return e[11](e[17])}return{key:t,first:null,c(){l=k("li"),n=k("button"),n.textContent=`${e[17].name} (Fa: ${e[17].cost.wood}, Agyag: ${e[17].cost.clay}, Nád: ${e[17].cost.reed}, Építkezési idő: ${e[17].buildTime} hét)`,s=$(),this.first=l},m(g,f){j(g,l,f),i(l,n),i(l,s),u||(r=be(n,"click",p),u=!0)},p(g,f){e=g},d(g){g&&I(l),u=!1,r()}}}function Ue(t){let e,l,n=t[6].name+"",s,u,r,p,g;return{c(){e=k("p"),l=h("Kiválasztott épület: "),s=h(n),u=$(),r=k("button"),r.textContent="Építkezés indítása"},m(f,c){j(f,e,c),i(e,l),i(e,s),j(f,u,c),j(f,r,c),p||(g=be(r,"click",t[10]),p=!0)},p(f,c){c&64&&n!==(n=f[6].name+"")&&M(s,n)},d(f){f&&(I(e),I(u),I(r)),p=!1,g()}}}function Ve(t,e){let l,n=e[17].name+"",s;return{key:t,first:null,c(){l=k("li"),s=h(n),this.first=l},m(u,r){j(u,l,r),i(l,s)},p(u,r){e=u,r&32&&n!==(n=e[17].name+"")&&M(s,n)},d(u){u&&I(l)}}}function Ye(t){let e,l,n=t[4].building.name+"",s,u,r=t[4].timeLeft+"",p,g;return{c(){e=k("p"),l=h("Építkezés folyamatban: "),s=h(n),u=h(" ("),p=h(r),g=h(" hét hátra)")},m(f,c){j(f,e,c),i(e,l),i(e,s),i(e,u),i(e,p),i(e,g)},p(f,c){c&16&&n!==(n=f[4].building.name+"")&&M(s,n),c&16&&r!==(r=f[4].timeLeft+"")&&M(p,r)},d(f){f&&I(e)}}}function Ge(t){let e,l,n=t[16]+1+"",s,u,r=Math.floor(t[14].age/52)+"",p,g,f=t[14].age+"",c,y;return{c(){e=k("li"),l=h("Lakos "),s=h(n),u=h(": Kor: "),p=h(r),g=h(" év ("),c=h(f),y=h(" hét)")},m(_,m){j(_,e,m),i(e,l),i(e,s),i(e,u),i(e,p),i(e,g),i(e,c),i(e,y)},p(_,m){m&128&&r!==(r=Math.floor(_[14].age/52)+"")&&M(p,r),m&128&&f!==(f=_[14].age+"")&&M(c,f)},d(_){_&&I(e)}}}function mt(t){let e,l,n,s,u,r=t[1]<10?"0":"",p,g,f,c=t[2]<10?"0":"",y,_,m,v,F,S,b,T,C,V,K=t[3].wood+"",W,w,E,O,P=t[3].clay+"",oe,ye,Q,we,X=t[3].reed+"",se,ve,fe,$e,Z,N=[],Ee=new Map,Le,ue,re,Me,x,B=[],ze=new Map,Ae,ce,ae,Oe,ee,Te,te=t[7].length+"",de,Ce,le,he,Ne,ne=J(t[8]);const Be=o=>o[17].id;for(let o=0;o<ne.length;o+=1){let a=Je(t,ne,o),d=Be(a);Ee.set(d,N[o]=Re(d,a))}let z=t[6]&&Ue(t),ie=J(t[5]);const Se=o=>o[17].id;for(let o=0;o<ie.length;o+=1){let a=De(t,ie,o),d=Se(a);ze.set(d,B[o]=Ve(d,a))}let A=t[4]&&Ye(t),q=J(t[7]),L=[];for(let o=0;o<q.length;o+=1)L[o]=Ge(qe(t,q,o));return{c(){e=k("div"),l=k("p"),n=h("Aktuális idő: "),s=h(t[0]),u=h("."),p=h(r),g=h(t[1]),f=h("."),y=h(c),_=h(t[2]),m=$(),v=k("button"),v.textContent="Tovább 1 héttel",F=$(),S=k("h3"),S.textContent="Erőforrások:",b=$(),T=k("ul"),C=k("li"),V=h("Fa: "),W=h(K),w=$(),E=k("li"),O=h("Agyag: "),oe=h(P),ye=$(),Q=k("li"),we=h("Nád: "),se=h(X),ve=$(),fe=k("h3"),fe.textContent="Elérhető épületek:",$e=$(),Z=k("ul");for(let o=0;o<N.length;o+=1)N[o].c();Le=$(),z&&z.c(),ue=$(),re=k("h3"),re.textContent="Elkészült épületek:",Me=$(),x=k("ul");for(let o=0;o<B.length;o+=1)B[o].c();Ae=$(),A&&A.c(),ce=$(),ae=k("h3"),ae.textContent="Lakosság:",Oe=$(),ee=k("p"),Te=h("Jelenlegi lakosság száma: "),de=h(te),Ce=$(),le=k("ul");for(let o=0;o<L.length;o+=1)L[o].c()},m(o,a){j(o,e,a),i(e,l),i(l,n),i(l,s),i(l,u),i(l,p),i(l,g),i(l,f),i(l,y),i(l,_),i(e,m),i(e,v),i(e,F),i(e,S),i(e,b),i(e,T),i(T,C),i(C,V),i(C,W),i(T,w),i(T,E),i(E,O),i(E,oe),i(T,ye),i(T,Q),i(Q,we),i(Q,se),i(e,ve),i(e,fe),i(e,$e),i(e,Z);for(let d=0;d<N.length;d+=1)N[d]&&N[d].m(Z,null);i(e,Le),z&&z.m(e,null),i(e,ue),i(e,re),i(e,Me),i(e,x);for(let d=0;d<B.length;d+=1)B[d]&&B[d].m(x,null);i(e,Ae),A&&A.m(e,null),i(e,ce),i(e,ae),i(e,Oe),i(e,ee),i(ee,Te),i(ee,de),i(e,Ce),i(e,le);for(let d=0;d<L.length;d+=1)L[d]&&L[d].m(le,null);he||(Ne=be(v,"click",t[9]),he=!0)},p(o,[a]){if(a&1&&M(s,o[0]),a&2&&r!==(r=o[1]<10?"0":"")&&M(p,r),a&2&&M(g,o[1]),a&4&&c!==(c=o[2]<10?"0":"")&&M(y,c),a&4&&M(_,o[2]),a&8&&K!==(K=o[3].wood+"")&&M(W,K),a&8&&P!==(P=o[3].clay+"")&&M(oe,P),a&8&&X!==(X=o[3].reed+"")&&M(se,X),a&320&&(ne=J(o[8]),N=We(N,a,Be,1,o,ne,Ee,Z,Ke,Re,null,Je)),o[6]?z?z.p(o,a):(z=Ue(o),z.c(),z.m(e,ue)):z&&(z.d(1),z=null),a&32&&(ie=J(o[5]),B=We(B,a,Se,1,o,ie,ze,x,Ke,Ve,null,De)),o[4]?A?A.p(o,a):(A=Ye(o),A.c(),A.m(e,ce)):A&&(A.d(1),A=null),a&128&&te!==(te=o[7].length+"")&&M(de,te),a&128){q=J(o[7]);let d;for(d=0;d<q.length;d+=1){const Pe=qe(o,q,d);L[d]?L[d].p(Pe,a):(L[d]=Ge(Pe),L[d].c(),L[d].m(le,null))}for(;d<L.length;d+=1)L[d].d(1);L.length=q.length}},i:G,o:G,d(o){o&&I(e);for(let a=0;a<N.length;a+=1)N[a].d();z&&z.d();for(let a=0;a<B.length;a+=1)B[a].d();A&&A.d(),nt(L,o),he=!1,Ne()}}}function pt(t,e,l){let n=0,s=0,u=1,r=1;const p=()=>{l(0,s=Math.floor(n/52)),l(1,u=Math.floor(n%52/4)+1),l(2,r=n%4+1)},g=[{id:1,name:"Kunyhó",cost:{wood:30,clay:20},buildTime:1},{id:2,name:"Lakóház",cost:{wood:50,clay:30},buildTime:3},{id:3,name:"Farm",cost:{wood:100,reed:40},buildTime:2},{id:4,name:"Ételraktár",cost:{wood:75,clay:100,reed:50},buildTime:2},{id:5,name:"Erdészház",cost:{wood:150,clay:0,reed:50},buildTime:4}];let f={wood:500,clay:200,reed:100},c=null,y=[],_=null,m=Array.from({length:20},()=>({age:0,maxAge:6240}));return[s,u,r,f,c,y,_,m,g,()=>{if(n+=1,p(),l(7,m=m.map(b=>({...b,age:b.age+1})).filter(b=>b.age<b.maxAge)),n%52===0){const b=Array.from({length:Math.floor(m.length*.05)},()=>({age:0,maxAge:6240}));l(7,m=[...m,...b])}if(c&&(l(4,c.timeLeft-=1,c),c.timeLeft<=0)){for(let b in c.building.cost)l(3,f[b]-=c.building.cost[b],f);l(5,y=[...y,c.building]),l(4,c=null)}},()=>{if(_){const b=_.cost;Object.keys(b).every(C=>f[C]>=b[C])?(l(4,c={building:_,timeLeft:_.buildTime}),l(6,_=null)):alert("Nincs elég erőforrás az építkezéshez!")}},b=>l(6,_=b)]}class bt extends _t{constructor(e){super(),ht(this,e,pt,mt,tt,{})}}new bt({target:document.getElementById("app")});
